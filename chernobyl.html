<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historia Viva: Chernóbil</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a3a, #0a1a2a);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 80px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 20px;
        }
        
        .logo {
            font-size: 28px;
            font-weight: 700;
            color: #4ecdc4;
            text-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
        }
        
        .progress-container {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 10px;
            background: linear-gradient(90deg, #4ecdc4, #2a8f88);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        .game-screen {
            display: none;
        }
        
        .active {
            display: block;
        }
        
        /* Pantalla de inicio */
        #start-screen {
            text-align: center;
            padding: 40px 20px;
        }
        
        .start-title {
            font-size: 42px;
            margin-bottom: 20px;
            color: #ffd166;
        }
        
        .start-description {
            font-size: 18px;
            max-width: 800px;
            margin: 0 auto 40px;
            line-height: 1.6;
            color: #c5c5c5;
        }
        
        .btn {
            background: linear-gradient(135deg, #4ecdc4, #2a8f88);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Pantalla de trivia */
        .trivia-container {
            background: rgba(30, 40, 50, 0.8);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .question-number {
            color: #ffd166;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .question-text {
            font-size: 24px;
            margin-bottom: 30px;
            line-height: 1.4;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .option {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .option:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }
        
        .selected {
            background: rgba(78, 205, 196, 0.3);
            border: 2px solid #4ecdc4;
        }
        
        .correct {
            background: rgba(80, 200, 120, 0.3);
            border: 2px solid #50c878;
        }
        
        .incorrect {
            background: rgba(239, 99, 81, 0.3);
            border: 2px solid #ef6351;
        }
        
        /* Modal informativo */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: linear-gradient(135deg, #2c3e50, #1a2a3a);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
            animation: modalAppear 0.5s ease;
            display: flex;
            flex-direction: column;
        }
        
        @keyframes modalAppear {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-header {
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            text-align: center;
            font-size: 24px;
            color: #ffd166;
        }
        
        .modal-body {
            padding: 30px;
            overflow-y: auto;
            flex-grow: 1;
        }
        
        .modal-image {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 20px;
            max-height: 300px;
            object-fit: cover;
        }
        
        .modal-text {
            line-height: 1.6;
            margin-bottom: 25px;
            font-size: 17px;
            color: #e0e0e0;
        }
        
        .modal-close {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
        }
        
        /* Pantalla de resultados */
        #results-screen {
            text-align: center;
            padding: 40px 20px;
        }
        
        .results-title {
            font-size: 36px;
            margin-bottom: 20px;
            color: #ffd166;
        }
        
        .score-text {
            font-size: 24px;
            margin-bottom: 30px;
        }
        
        .score-value {
            font-size: 72px;
            color: #4ecdc4;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .restart-btn {
            margin-top: 30px;
        }
        
        /* Efectos de partículas */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .start-title {
                font-size: 32px;
            }
            
            .question-text {
                font-size: 20px;
            }
            
            .trivia-container {
                padding: 20px;
            }
            
            .modal-content {
                width: 95%;
                max-height: 85vh;
            }
            
            .modal-body {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <header>
            <div class="logo">Historia Viva</div>
        </header>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        
        <!-- Pantalla de inicio -->
        <div id="start-screen" class="game-screen active">
            <h1 class="start-title">El Accidente de Chernóbil</h1>
            <p class="start-description">
                Adéntrate en uno de los eventos más significativos de la historia moderna. 
                Aprende sobre el desastre nuclear de Chernóbil a través de una experiencia 
                interactiva que combina trivia educativa con narrativa histórica.
            </p>
            <button class="btn" id="start-btn">Comenzar el Viaje</button>
        </div>
        
        <!-- Pantalla de trivia -->
        <div id="trivia-screen" class="game-screen">
            <div class="trivia-container">
                <div class="question-number" id="question-number">Pregunta 1 de 6</div>
                <h2 class="question-text" id="question-text">¿En qué año ocurrió el accidente de Chernóbil?</h2>
                <div class="options-container" id="options-container">
                    <!-- Las opciones se generarán con JavaScript -->
                </div>
                <div style="text-align: center;">
                    <button class="btn" id="next-btn" disabled>Siguiente</button>
                </div>
            </div>
        </div>
        
        <!-- Pantalla de resultados -->
        <div id="results-screen" class="game-screen">
            <h2 class="results-title">¡Has completado el viaje!</h2>
            <p class="score-text">Tu puntuación final:</p>
            <div class="score-value" id="final-score">0/6</div>
            <p class="modal-text">
                El accidente de Chernóbil sigue siendo una lección poderosa sobre los riesgos 
                de la energía nuclear y la importancia de los protocolos de seguridad. 
                La zona de exclusión permanece como un recordatorio de los eventos de 1986.
            </p>
            <button class="btn restart-btn" id="restart-btn">Jugar de Nuevo</button>
        </div>
    </div>
    
    <!-- Modal informativo -->
    <div class="modal" id="info-modal">
        <div class="modal-content">
            <div class="modal-header" id="modal-header">Contexto Histórico</div>
            <div class="modal-body">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Chernobyl_radiation_map_1996.svg/1200px-Chernobyl_radiation_map_1996.svg.png" alt="Mapa de radiación" class="modal-image" id="modal-image">
                <p class="modal-text" id="modal-text">
                    El accidente de Chernóbil ocurrió el 26 de abril de 1986 en la central nuclear 
                    Vladímir Ilich Lenin, ubicada en el norte de Ucrania. Durante una prueba de 
                    seguridad, una explosión masiva liberó material radiactivo a la atmósfera, 
                    contaminando grandes áreas de Ucrania, Bielorrusia y Rusia.
                </p>
            </div>
            <div class="modal-close">
                <button class="btn" id="modal-close-btn">Continuar</button>
            </div>
        </div>
    </div>

    <script>
        // Datos del juego - Información detallada (10 modales)
        const informationScreens = [
            {
                title: "La prueba de seguridad",
                image: "img/chernobyl/chernobyl1.png",
                text: `En la madrugada del 26 de abril de 1986, en la central nuclear de Chernóbil, se preparaba una prueba de seguridad en el reactor 4. El objetivo era comprobar si, tras un corte eléctrico, las turbinas podían seguir produciendo energía suficiente para enfriar el núcleo.`
            },
            {
                title: "Errores fatales",
                image: "img/chernobyl/chernobyl2.png",
                text: `Los ingenieros cometieron varios errores de procedimiento y desactivaron sistemas automáticos de seguridad. Esto dejó al reactor inestable y con un exceso de energía muy difícil de controlar.`
            },
            {
                title: "La explosión del reactor",
                image: "img/chernobyl/chernobyl3.jpg",
                text: `A la 1:23 a.m., la potencia se disparó. Una primera explosión levantó la tapa del reactor, y segundos después otra explosión expulsó materiales radiactivos al aire, iniciando varios incendios en la planta.`
            },
            {
                title: "Los héroes de Prípiat",
                image: "img/chernobyl/chernobyl4.png",
                text: `Los primeros en llegar fueron los bomberos de Prípiat, que lucharon contra las llamas sin saber que la radiación los estaba afectando gravemente. Muchos enfermaron en las horas siguientes.`
            },
            {
                title: "Una ciudad en peligro",
                image: "img/chernobyl/chernobyl5.jpg",
                text: `La ciudad de Prípiat, con más de 50.000 habitantes, no fue evacuada de inmediato. Durante 36 horas, las personas continuaron su vida normal mientras la radiación se extendía por el aire.`
            },
            {
                title: "El mundo se entera",
                image: "img/chernobyl/chernobyl6.png",
                text: `El 28 de abril, Suecia detectó radiación en su territorio y alertó al mundo. Fue entonces cuando la Unión Soviética admitió el accidente, mientras la nube radiactiva ya cubría gran parte de Europa.`
            },
            {
                title: "Éxodo forzado",
                image: "img/chernobyl/chernobyl7.png",
                text: `En los días siguientes, más de 100.000 personas fueron evacuadas de la zona de exclusión, dejando atrás hogares, pertenencias y recuerdos. Muchos nunca pudieron regresar.`
            },
            {
                title: "Los liquidadores",
                image: "img/chernobyl/chernobyl8.png",
                text: `Para contener la catástrofe, se movilizaron más de 600.000 trabajadores, conocidos como "liquidadores", que limpiaron escombros, enterraron materiales contaminados y construyeron un enorme sarcófago de hormigón alrededor del reactor.`
            },
            {
                title: "Las secuelas invisibles",
                image: "img/chernobyl/chernobyl9.png",
                text: `Las consecuencias fueron devastadoras: decenas de muertes inmediatas, miles de enfermos por radiación, un gran aumento de cáncer de tiroides y evacuaciones permanentes. El impacto social y ambiental duró décadas.`
            },
            {
                title: "El legado de Chernóbil",
                image: "img/chernobyl/chernobyl10.png",
                text: `Hoy, Chernóbil sigue siendo un lugar peligroso, pero también un sitio de estudio y memoria. La zona de exclusión se ha convertido en un símbolo del riesgo nuclear y en un recordatorio de la importancia de la seguridad.`
            }
        ];

        // Preguntas de trivia (6 preguntas)
        const questions = [
            {
                question: "¿En qué ciudad cercana se encontraba la central de Chernóbil?",
                options: ["Kiev", "Prípiat", "Bielorrusia", "Varsovia"],
                correct: 1
            },
            {
                question: "¿Quiénes fueron los primeros en responder a la emergencia en la central?",
                options: ["Soldados", "Policia", "Bomberos", "Enfermeros"],
                correct: 2
            },
            {
                question: "¿Cuánto tiempo tardaron en evacuar a la población de Prípiat?",
                options: ["36 horas", "48 horas", "12 horas", "72 horas"],
                correct: 0
            },
            {
                question: "¿Cómo se llamaron los trabajadores enviados a limpiar y contener el desastre?",
                options: ["Rescatistas", "Liquidadores", "Protectores", "Voluntarios"],
                correct: 1
            },
            {
                question: "¿Qué cubre actualmente el reactor 4 para evitar que escape más radiación?",
                options: ["Una pirámide de acero", "Un sarcófago de hormigón", "Una cúpula de cristal", "Una cúpula geodésica"],
                correct: 1
            },
            {
                question: "¿Cuál fue la principal consecuencia del accidente de Chernóbil para la población?",
                options: ["Turismo", "Más empleo", "Cierre de los reactores núcleares", "Desplazamiento y problemas de salud"],
                correct: 3
            }
        ];

        // Variables del juego
        let currentInfoScreen = 0;
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];
        
        // Elementos DOM
        const startScreen = document.getElementById('start-screen');
        const triviaScreen = document.getElementById('trivia-screen');
        const resultsScreen = document.getElementById('results-screen');
        const progressBar = document.getElementById('progress-bar');
        const questionNumber = document.getElementById('question-number');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const finalScore = document.getElementById('final-score');
        
        const infoModal = document.getElementById('info-modal');
        const modalHeader = document.getElementById('modal-header');
        const modalImage = document.getElementById('modal-image');
        const modalText = document.getElementById('modal-text');
        const modalCloseBtn = document.getElementById('modal-close-btn');
        
        // Inicializar el juego
        document.getElementById('start-btn').addEventListener('click', startGame);
        document.getElementById('restart-btn').addEventListener('click', startGame);
        nextBtn.addEventListener('click', nextQuestion);
        modalCloseBtn.addEventListener('click', closeModal);
        
        function startGame() {
            currentInfoScreen = 0;
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            updateProgressBar();
            showScreen(startScreen);
            showInformation(0);
        }
        
        function loadQuestion() {
            const question = questions[currentQuestionIndex];
            questionNumber.textContent = `Pregunta ${currentQuestionIndex + 1} de ${questions.length}`;
            questionText.textContent = question.question;
            
            // Limpiar opciones anteriores
            optionsContainer.innerHTML = '';
            
            // Agregar nuevas opciones
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            // Reiniciar estado del botón
            nextBtn.disabled = true;
        }
        
        function selectOption(optionIndex) {
            // Deshabilitar todas las opciones
            const options = document.querySelectorAll('.option');
            options.forEach(option => option.classList.remove('selected'));
            
            // Marcar la opción seleccionada
            options[optionIndex].classList.add('selected');
            
            // Habilitar el botón de siguiente
            nextBtn.disabled = false;
            
            // Guardar la respuesta
            userAnswers[currentQuestionIndex] = optionIndex;
        }
        
        function nextQuestion() {
            // Verificar respuesta
            const correctAnswer = questions[currentQuestionIndex].correct;
            const userAnswer = userAnswers[currentQuestionIndex];
            const options = document.querySelectorAll('.option');
            
            if (userAnswer === correctAnswer) {
                score++;
                options[userAnswer].classList.add('correct');
            } else {
                options[userAnswer].classList.add('incorrect');
                options[correctAnswer].classList.add('correct');
            }
            
            // Deshabilitar opciones
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Esperar un momento y luego avanzar
            setTimeout(() => {
                currentQuestionIndex++;
                
                if (currentQuestionIndex < questions.length) {
                    updateProgressBar();
                    // Después de una pregunta, mostrar los siguientes 2 modales
                    showInformation(currentInfoScreen + 1);
                } else {
                    showResults();
                }
            }, 1500);
        }
        
        function showInformation(infoIndex) {
            if (infoIndex >= informationScreens.length) {
                // Si no hay más información, mostrar la pregunta si es necesario
                if (currentQuestionIndex < questions.length) {
                    showScreen(triviaScreen);
                    loadQuestion();
                } else {
                    showResults();
                }
                return;
            }
            
            currentInfoScreen = infoIndex;
            const info = informationScreens[infoIndex];
            modalHeader.textContent = info.title;
            modalImage.src = info.image;
            modalText.textContent = info.text;
            infoModal.style.display = 'flex';
        }
        
        function closeModal() {
            infoModal.style.display = 'none';
            
            // Cada 2 modales, mostrar una pregunta
            if ((currentInfoScreen + 1) % 2 === 0 && currentQuestionIndex < questions.length) {
                showScreen(triviaScreen);
                loadQuestion();
            } else {
                // Mostrar la siguiente pantalla de información
                showInformation(currentInfoScreen + 1);
            }
        }
        
        function showResults() {
            finalScore.textContent = `${score}/${questions.length}`;
            showScreen(resultsScreen);
        }
        
        function showScreen(screen) {
            // Ocultar todas las pantallas
            startScreen.classList.remove('active');
            triviaScreen.classList.remove('active');
            resultsScreen.classList.remove('active');
            
            // Mostrar la pantalla solicitada
            screen.classList.add('active');
        }
        
        function updateProgressBar() {
            const totalScreens = informationScreens.length + questions.length;
            const completedScreens = currentInfoScreen + currentQuestionIndex;
            const progress = (completedScreens / totalScreens) * 100;
            progressBar.style.width = `${progress}%`;
        }
        
        // Efectos de partículas de fondo
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 20;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Tamaño y posición aleatoria
                const size = Math.random() * 15 + 5;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.top = `${posY}%`;
                
                // Animación
                const animationDuration = Math.random() * 10 + 10;
                particle.style.animation = `float ${animationDuration}s infinite ease-in-out`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                
                particlesContainer.appendChild(particle);
            }
            
            // Añadir keyframes para la animación
            const style = document.createElement('style');
            style.textContent = `
                @keyframes float {
                    0%, 100% { transform: translate(0, 0) rotate(0deg); }
                    25% { transform: translate(${Math.random() * 20 - 10}px, ${Math.random() * 20 - 10}px) rotate(${Math.random() * 10 - 5}deg); }
                    50% { transform: translate(${Math.random() * 30 - 15}px, ${Math.random() * 30 - 15}px) rotate(${Math.random() * 10 - 5}deg); }
                    75% { transform: translate(${Math.random() * 20 - 10}px, ${Math.random() * 20 - 10}px) rotate(${Math.random() * 10 - 5}deg); }
                }
            `;
            document.head.appendChild(style);
        }
        
        // Inicializar
        window.onload = function() {
            createParticles();
        };
    </script>
</body>
</html>